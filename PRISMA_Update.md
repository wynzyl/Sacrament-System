# Fix Prisma Client Deployment for Vercel

## Problem

The Vercel build fails because:
1. **`prisma.config.ts`** imports `defineConfig` from `"prisma/config"` — a Prisma v6+ API — but the project uses Prisma **v5.22.0**, which doesn't have this module.
2. **No `postinstall` script** exists to run `prisma generate` during Vercel's install phase, so the Prisma Client types are never generated before `next build`.
3. The wrong **`tailwind`** package (an unrelated web framework) was in dependencies, pulling in 186 unnecessary packages including the incompatible `amqplib`.

## Plan

### Branch: `fix/prisma-vercel-deployment`

### Changes

1. **Remove `prisma.config.ts`**
   - This file was auto-generated by a newer Prisma CLI but is incompatible with v5.22.0.
   - It's not required — Prisma 5 uses the default `prisma/schema.prisma` path convention.
   - File: `prisma.config.ts` (delete)

2. **Revert `tsconfig.json` exclusion** (no longer needed once file is deleted)
   - File: `tsconfig.json`

3. **Add `postinstall` script to `package.json`**
   - Add `"postinstall": "prisma generate"` so Vercel auto-generates the Prisma Client after `npm install`.
   - File: `package.json`

4. **Remove `tailwind` from dependencies** (already done locally)
   - The wrong package — `tailwind@2.4.1` (a web framework) — was listed. The project already has the correct `tailwindcss` in devDependencies.
   - File: `package.json`

5. **Remove `claude` from dependencies**
   - The `claude@0.1.1` package in dependencies is not used by the project and is unnecessary.
   - File: `package.json`

6. **Verify build succeeds** — run `npm run build` to confirm.

### Files Modified
- `package.json` — add postinstall script, remove `tailwind` and `claude` packages
- `tsconfig.json` — revert prisma.config.ts exclusion
- `prisma.config.ts` — delete

### Verification
1. Run `npm install` — confirm no `EBADENGINE` warnings
2. Run `npm run build` — confirm no TypeScript errors and successful compilation
3. Create PR to `main` from `fix/prisma-vercel-deployment`

---

## Status Updates

### Completed on branch `fix/prisma-vercel-deployment`

1. **Deleted `prisma.config.ts`** — This file used `defineConfig` from `"prisma/config"`, a Prisma v6+ API incompatible with the project's v5.22.0.

2. **Updated `tsconfig.json`** — Removed the `"prisma.config.ts"` entry from the `exclude` array since the file no longer exists.

3. **Updated `package.json`**:
   - Added `"postinstall": "prisma generate"` script so Vercel auto-generates the Prisma Client after `npm install`.
   - Removed the unused `claude` package from dependencies.

### Verification Results
- `npm install` ran cleanly; the postinstall hook generated the Prisma Client successfully (v5.22.0).
- `npm run build` compiled with zero errors — all 16 pages generated, all API routes intact.
- Build output confirmed: Next.js 16.1.6 (Turbopack), TypeScript passed, static and dynamic routes all accounted for.
